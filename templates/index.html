<!DOCTYPE html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
        <link href="/static/css/main.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    </head>
    <body>
        <header>
            <h1>Task Manager App</h1>
        </header>
        <div class="content-container">
        <section id="main">
            
            <div class="task-container">
                
                {% for task in tasks %}
                {% set rowid = task[0] %}
                {% set title = task[1] %}
                {% set due_date = task[2] %}
                {% set time = task[3] %}
                {% set est_time = task[4] %}
                {% set priority = task[5] %}
                {% set isComplete = task[6] %}
                
                <div class="task" data-id="{{rowid}}">
                    
                    <input class="complete-checkbox" type="checkbox" data-id="{{rowid}}" {% if task.complete %} checked {% endif %}>

                    <div class="task-content {%if task.complete %}done{% endif %}">
                        <i>Task ID: <span>{{rowid}}</span></i>
                        <h2 class="title">{{title}}</h2>
                        <p>Due: <span class="due_date">{{due_date}}</span> <span class="time">{{time}}</span></p>
                        <p>Est. task time: <span class="est_time">{{est_time}}</span></p>
                        <p>Priority: <span class="priority">{{priority}}</span></p>
                    </div>
                <div class="btns-box">
                    <i class="edit-task fa-solid fa-pencil" data-id="{{rowid}}"></i>
                    <i class="promptDelete fa-solid fa-trash" data-id="{{rowid}}"></i>
                </div>
                </div>
                
                {%endfor%}
            </div>
        </section>
        <section class="addTask">
            <div class="form-container">
                <h1>Add Task</h1>
                <form id="newTask">
                    <label for="title">Title</label>
                    <input id="title" placeholder="Eat a meal">
                    <label for="due_date">Due Date</label>
                    <input id="due_date" type="date">
                    <label for="time">Time</label>
                    <input id="time" type="time" placeholder="Time">
                    <label for="time_est">Estimated Time</label>
                    <input id="time_est" placeholder="Time in Hours">
                    <label for="priority">Priority</label>
                        <select name="priority" id="priority">
                            <option value="Highest">Highest</option>
                            <option value="High">High</option>
                            <option value="Medium">Medium</option>
                            <option value="Low">Low</option>
                            <option value="Lowest">Lowest</option>
                        </select>
                    <button class="button btn-primary addTask-btn">Submit</button>
                </form>
                </div>
        </section>
        </div>
    
    <script src="/static/js/task-ui.js"></script>
    </body>
</html>